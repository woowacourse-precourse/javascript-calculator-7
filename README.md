# javascript-calculator-precourse

## 구현할 기능 설계 및 정리

### 💡 설계

- 입력 받은 문자열에 대해 인덱스를 증가시키며 한 자씩 읽으면서, case별로 함수를 만들어 처리한다.
- `/`가 나올 경우, `+4자리`까지 읽어서 커스텀 구분자의 지정 형식에 맞는지 확인한다.
- 숫자가 나오면 배열에 넣어놓고, 그 다음 자리를 확인하여 숫자면 다시 배열에 넣는다.
- 숫자가 아닌 문자가 나오면 구분자인지 확인 후 오류를 발생시키거나 합계에 더하고 숫자를 저장하던 배열을 비운다.

<br/>

### 🚨 에러 처리 기준 정의

사용자의 입력에 자유도가 높고, 기능 요구 사항을 보다 명확히 분석하기 위해 에러가 발생하는 case를 먼저 정리하는 것이 좋겠다고 생각하였다.

- 양수가 아닌 숫자를 포함하는 경우 (ex. `0:1,2`)
- "//"과 "\n" 사이에 숫자가 오는 경우 <br/>
  -> 숫자는 구분자가 될 수 없는 것으로 정한다. 예로 `//1\n112111` 입력 시 `1 + 21 + 1 = 23` 또는 `1 + 2 + 11 = 14`로 답이 갈릴 수 있기 때문
- 커스텀으로 지정한 구분자의 길이가 2 이상의 문자열인 경우 <br/>
  -> 구분자로는 문자 1개를 허용하는 것으로 정한다.
- 구분자(기본 구분자 + 커스텀 구분자) 외의 문자가 구분자로서 사용된 경우 (ex. `//;\n1!2`, `1.1.1`)
- 그 외 입력 형식이 잘못된 경우 (ex. `//&\n3&`, `4,`, `:1:2`, `!`)

  > 커스텀 구분자를 지정해준 경우, 기본 구분자와 혼합하여 사용하는 경우도 허용하는 것으로 정한다. (ex. `//;\n1,2;3` => 6)

<br/>

### ✅ 구현할 기능 목록

- [ ] **필요한 변수 초기화** <br/>
      시작에 앞서, 구상한 내용을 바탕으로 구현에 필요한 변수를 선언한다.

  - 전체 문자열 배열
  - 배열에서 index 역할을 할 커서
  - 숫자를 담을 배열
  - 합계를 저장할 변수

- [ ] **문자열 입력받기** <br/>
      사용자로부터 문자열을 입력 받고, 입력 받은 문자열을 한 글자씩 읽을 수 있도록 문자열 배열을 생성한다.

- [ ] **문자열 종류 판단하기** <br/>
      문자열 배열의 요소를 하나씩 읽으면서 "/"인지 문자인지 숫자인지에 따라 분기 처리 해준다. 각 분기에 대해 함수를 통해 커스텀 구분자 추가, 구분자 처리, 숫자 합산 및 에러 핸들링을 해준다.

- [ ] **커스텀 구분자 추가** <br/>
      입력값이 `/`로 시작하는 경우 커스텀 구분자의 지정 형식에 맞는지 확인 후, 구분자로 추가한다.

- [ ] **구분자 처리** <br/>
      문자열이 문자인 경우, 해당 문자가 구분자에 해당하는지 확인 후 맞다면 저장해놓았던 숫자 배열을 `join()`으로 합쳐서 숫자로 변환 후 합계에 더한다.

- [ ] **숫자 처리** <br/>
      문자열이 숫자인 경우, 배열에 추가하여 다음 구분자를 만날 때까지 저장해둔다. 혹은 맨 끝자리에 오는 숫자일 경우 값을 합계에 더해준다.

- [ ] **에러 핸들링** <br/>
      사용자가 입력을 잘못한 경우, "[ERROR]"로 시작하는 메시지와 함께 Error를 발생시키고 애플리케이션을 종료시킨다.

- [ ] **결과 출력** <br/>
      구분자를 기준으로 추출된 숫자의 총 합을 결과로 출력한다.
