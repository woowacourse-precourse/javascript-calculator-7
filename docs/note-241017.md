# 241017 D+3

## 예외 처리를 어디서부터 시작해야 하는가

=> 시작부터 해야 하지 않을까?!

문자열 계산기에서 허용하는 문자의 수는 실제 사용자가 입력할 수 있는 문자 수에 비해 현저하게 적음
-> 일단 문자열이 해당 문자를 가지고 있는지 확인하는게 나을까 아니면 "예외"의 문자를 걸러내는 게 나을까?

- 예외의 문자를 거를 경우
  - 예외 문자
    - 알파벳 대,소문자
    - 한글 (우리의 사용자는 한국인일테니까?)
    - 그 이외의 특수 문자
  - 혀용되는 문자
    - 숫자
    - /[,;/\n]/

예외 문자의 경우의 수가 많기 때문에 정규식으로 걸러내기 더 편리하지 않을까?
OR
허용되는 문자가 있는지 확인하는 게 나을까

- 그런데 허용되는 문자가 있을 경우 "-"를 거른다 => 음수의 경우는 예외로 ERROR 가 나와야 됨

숫자만 추출하는게 의미가 있는가? 애초에 이 문제는 "구분자"로 구분하는게 목적이기 때문에 숫자만 구분하는 건 문제가 된다고 생각

- 숫자만 추출하면 간편하기는 해짐
  - 양수, 음수 처리만 하면 되니까 => 음수는 ERROR

## 그런데 지문에 요구되지 않은 예외까지 먼저 생각해야 되는 것인가?!!!

일단 요구 사항에 맞는 코드를 작성하고 = 테스트를 통과하는 코드를 작성하고
-> 그 후 이외의 예외에 대응한다?!
이외의 예외까지 대응하려고 하면 구현도 못하고 끝날 것 같다 ㅠ

## => 커스텀 문자 처리 먼저 하기!

-`\\`과 `\`
`"//;\\n1"` 과 `"//;\n1;2;3` 을 모두 통과할 수 있는 정규식?
=> `//`과 `\n`,`\`를 분리하려면?

- **`\n`과 `\\n`은 다르다!**
  - `\n` 줄바꿈 특수문자
  - `\\n` 역슬래시(\) 와 텍스트인 "\n"

## 흐름을 다시 생각해보자

- 사용자로 부터 문자열을 받는다
- 문자열에서 쉼표(,), 콜론(:), 역슬래시(\\), 줄바꿈 문자(\n)를 가지는지 확인한다

- //과 \n 이 있을 경우

```
const regex = /\/\/(.+?)\\n|\/\/(.+?)\n/g;

// 특수문자와 숫자를 추출하는 함수
function extractNumbersAndDelimiter(str) {
    const delimiterMatch = regex.exec(str);

    if (delimiterMatch) {
        // 구분자를 추출 (첫 번째 캡쳐 그룹 또는 두 번째)
        const delimiter = delimiterMatch[1] || delimiterMatch[2];

        // 구분자를 기준으로 숫자를 추출
        const numbers = str.split(new RegExp(`[${delimiter}\\n]+`)).filter(val => /\d+/.test(val));

        return { delimiter, numbers };
    }

    return { delimiter: null, numbers: [] };
}

```

## RegExp

- `RegExp.prototype.exec()`:

```
  try {
  input = await MissionUtils.Console.readLineAsync(",(쉼표)와 ;(세미 콜론)와 숫자를 조합한 문자열을 입력해주세요. ex)1,2:3 ");

    // 쉼표, 콜론, 역슬래시, 줄바꿈 문자가 있는지 확인
    /* 			if (!regex_tester.test(input)) {
      return;
    } */

    if (custom_regex_tester.test(input)) {
      // 커스텀 구분자 사용할 경우
      input_array = this.extractNumbersAndDelimiter(input).numbers;
    } else {
      reg = regs.normal;
      input_array = input.split(reg);
    }

    for (let i = 0; i < input_array.length; i++) {
      answer = answer + Number(input_array[i]);
    }
    Console.print(`결과 : ${answer}`);
  } catch (error) {
    Console.print(`[ERROR] : ${error}`);
  }
```
